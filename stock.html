<!DOCTYPE html>
<html lang="es">
<head>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f8f9fa;
  margin: 20px;
  color: #333;
}

h2, h3 {
  margin-top: 25px;
  color: #007bff;
}

button {
  background: #007bff;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 8px 14px;
  margin: 5px;
  cursor: pointer;
  transition: background 0.2s ease;
}
button:hover {
  background: #0056b3;
}

/* Botones especiales */
#btnActualizar {
  background: #28a745;
}
#btnActualizar:hover {
  background: #1e7e34;
}

#btnSubir {
  background: #ffc107;
  color: #333;
}
#btnSubir:hover {
  background: #e0a800;
  color: #fff;
}

/* Drop zone */
#dropZone {
  border: 2px dashed #007bff;
  border-radius: 10px;
  padding: 30px;
  text-align: center;
  color: #555;
  background: #fdfdfd;
  transition: background-color 0.3s, border-color 0.3s;
}
#dropZone.dragover {
  background-color: #e6f0ff;
  border-color: #0056b3;
  color: #0056b3;
}

/* Encabezado y navegaci√≥n */
header {
  background: #007bff;
  color: #fff;
  padding: 15px;
  text-align: center;
  font-size: 1.6em;
  font-weight: bold;
  border-radius: 8px;
  margin-bottom: 20px;
}
nav {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 10px;
}
nav button {
  background: #fff;
  color: #007bff;
  border: 1px solid #007bff;
  border-radius: 6px;
  padding: 8px 14px;
  cursor: pointer;
  transition: all 0.2s ease;
}
nav button:hover {
  background: #007bff;
  color: #fff;
}

/* Listados en tarjetas */
ul {
  list-style: none;
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
}
ul li {
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  padding: 12px;
  width: 280px;
  transition: transform 0.2s ease;
}
ul li:hover {
  transform: translateY(-3px);
}
ul li h4 {
  margin: 0 0 8px;
  font-size: 1.2em;
  color: #007bff;
}
ul li p {
  margin: 4px 0;
}

/* Estados de stock */
.stock-ok { color: #28a745; font-weight: bold; }
.stock-low { color: #ffc107; font-weight: bold; }
.stock-out { color: #dc3545; font-weight: bold; }

/* Badge contador */
#contadorProductos, #contadorErrores {
  background: #007bff;
  color: #fff;
  padding: 2px 8px;
  border-radius: 12px;
  font-weight: bold;
}
</style>
  <meta charset="UTF-8">
  <title>Control de Stock General</title>
</head>
<body>
  <h2>Secciones</h2>
<button onclick="document.getElementById('listaHistorial').scrollIntoView()">Historial de cambios</button>
<button onclick="document.getElementById('listaErrores').scrollIntoView()">Errores en carga</button>
<button onclick="document.getElementById('listaAgotados').scrollIntoView()">Agotados</button>
<button onclick="document.getElementById('listaPorAgotarse').scrollIntoView()">Por Agotarse (‚â§2 unidades)</button>
<button onclick="document.getElementById('listaStock').scrollIntoView()">Listado General</button>
  <h2>Control de Stock</h2>
  <button onclick="document.getElementById('archivoExcel').click()">Subir CSV</button>
<div id="dropZone" style="border:2px dashed #aaa; padding:20px; text-align:center;">
  Arrastr√° y solt√° tu archivo TXT aqu√≠
</div>

<div id="acciones" style="margin-top:15px; display:none;">
  <button id="btnActualizar">Actualizar stock</button>
  <button id="btnSubir">Subir stock</button>
</div>  <button onclick="location.href='menu.html'">Volver al Men√∫ Principal</button>

  <input type="file" id="archivoExcel" style="display:none" accept=".csv">
  <input type="file" id="archivoWhatsapp" style="display:none" accept=".txt">

  <h3>Buscar producto</h3>
  <input type="text" id="buscador" placeholder="Escrib√≠ una palabra clave...">
  <ul id="resultadosBusqueda"></ul>

  <h3>Buscar por ID / N√∫mero</h3>
  <input type="text" id="buscadorEspecial" placeholder="Escrib√≠ un ID o n√∫mero de orden...">
  <ul id="resultadosBusquedaEspecial"></ul>

<h3>Listado General (<span id="contadorProductos">0</span>)</h3>
<ul id="listaStock"></ul>

  <h3>Por Agotarse (‚â§2 unidades)</h3>
  <ul id="listaPorAgotarse"></ul>

  <h3>Agotados</h3>
  <ul id="listaAgotados"></ul>

  <h3>Errores en carga (<span id="contadorErrores">0</span>)</h3>

  <h3>Historial de cambios</h3>
<ul id="listaHistorial"></ul>

  <ul id="listaErrores"></ul>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { 
      getFirestore, 
      addDoc,        
      getDocs, 
      collection, 
      updateDoc,
      deleteDoc,
      doc,
      query,
      where,
      increment   // üîπ agregado aqu√≠

    } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBDrfX2Fszw9-M1DwzX_Sk63et9tw4ddOU",
  authDomain: "glowzzainventario.firebaseapp.com",
  projectId: "glowzzainventario",
  storageBucket: "glowzzainventario.appspot.com",   // üîπ corregido
  messagingSenderId: "159721581844",
  appId: "1:159721581844:web:f62cdb303258dc847b6601",
  measurementId: "G-0FR3Q6P3L2"
};
let productosParseados = [];

const dropZone = document.getElementById("dropZone");
dropZone.addEventListener("dragover", (e) => {
  e.preventDefault();
 dropZone.classList.add("dragover");
});
dropZone.addEventListener("dragleave", () => {
  dropZone.classList.remove("dragover");
});
dropZone.addEventListener("drop", (e) => {
  e.preventDefault();
  dropZone.classList.remove("dragover");


  const file = e.dataTransfer.files[0];
  const reader = new FileReader();
reader.onload = async (ev) => {
  const lines = ev.target.result.split("\n");
  productosParseados = [];

  // Paso 1: obtener todos los √≥rdenes existentes desde Firestore
  const productosSnap = await getDocs(collection(db, "productos"));
  const ordenesUsados = [];
  productosSnap.forEach(docSnap => {
    const prod = docSnap.data();
    if (prod.orden) ordenesUsados.push(prod.orden);
  });
  ordenesUsados.sort((a, b) => a - b);

  // Funci√≥n para calcular el pr√≥ximo orden libre (reutiliza huecos)
  function obtenerNuevoOrden() {
    let nuevoOrden = 1;
    for (let i = 0; i < ordenesUsados.length; i++) {
      if (ordenesUsados[i] !== nuevoOrden) {
        return nuevoOrden; // hueco encontrado
      }
      nuevoOrden++;
    }
    return nuevoOrden; // si no hay huecos, devuelve el siguiente consecutivo
  }

  // Paso 2: parsear cada l√≠nea y asignar orden correcto
  lines.forEach(line => {
    line = line.replace(/^\d{1,2}\/\d{1,2}\/\d{4},\s*\d{1,2}:\d{2}\s*-\s*/, "");
    const idx = line.indexOf(":");
    if (idx !== -1) line = line.substring(idx + 1).trim();
    line = line.replace(/<Se edit√≥.*?>/i, "").trim();

    const parts = line.split(",");
    if (parts.length >= 6) {
      const nuevoOrden = obtenerNuevoOrden();

      productosParseados.push({
        orden: nuevoOrden,
        nombre: parts[0].trim(),
        color: parts[1].trim(),
        precio: Number(parts[2]),
        stock: Number(parts[3]),
        fecha: parts[4].trim(),
        categoria: parts[5].trim(),
        claveUnica: `${parts[0].trim()}|${parts[1].trim()}|${parts[5].trim()}`
      });

      // actualizar lista de √≥rdenes usados para el pr√≥ximo producto
      ordenesUsados.push(nuevoOrden);
      ordenesUsados.sort((a, b) => a - b);
    }
  });

  // Mostrar botones de acci√≥n
  document.getElementById("acciones").style.display = "block";
};
  reader.readAsText(file);
});
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function migrarClaveUnica() {
  const productosSnap = await getDocs(collection(db, "productos"));
  productosSnap.forEach(async (docSnap) => {
    const prod = docSnap.data();
    if (!prod.claveUnica) {
      const claveUnica = `${prod.nombre}|${prod.color}|${prod.categoria}`;
      await updateDoc(doc(db, "productos", docSnap.id), { claveUnica });
    }
  });
  alert("Migraci√≥n de claveUnica finalizada");
}

function crearItem(prod, productoId, conBoton = true) {
  const li = document.createElement("li");

  if (conBoton) {
    const btnEliminar = document.createElement("button");
    btnEliminar.textContent = "Eliminar";
    btnEliminar.style.marginRight = "10px";
    btnEliminar.onclick = async () => {
      if (confirm(`¬øSeguro que quer√©s eliminar "${prod.nombre} (${prod.color})"?`)) {
        await deleteDoc(doc(db, "productos", productoId));
        li.remove();
        alert(`Producto eliminado: ${prod.nombre} (${prod.color})`);
      }
    };
    li.appendChild(btnEliminar);
  }

  // üîπ Usamos insertAdjacentHTML para no borrar el bot√≥n
li.insertAdjacentHTML("beforeend", `
  <h4>[${prod.orden}] ${prod.nombre} (${prod.color || ""})</h4>
  <p>Precio: $${prod.precio}</p>
  <p class="${prod.stock === 0 ? 'stock-out' : prod.stock <= 2 ? 'stock-low' : 'stock-ok'}">
    Stock: ${prod.stock} unidades
  </p>
  <p>Categor√≠a: ${prod.categoria}</p>
  <p>ID: ${productoId}</p>
`);
  return li;
}
// üîπ Refrescar listado desde Firestore
async function refrescarLista() {
  document.getElementById("listaStock").innerHTML = "";
  document.getElementById("listaAgotados").innerHTML = "";
  document.getElementById("listaPorAgotarse").innerHTML = "";

  const productosSnap = await getDocs(collection(db, "productos"));
  let totalProductos = 0;

  productosSnap.forEach((docSnap) => {
    const prod = docSnap.data();
    totalProductos++;

    const liGeneral = crearItem(prod, docSnap.id, true);
    document.getElementById("listaStock").appendChild(liGeneral);

    if (Number(prod.stock) === 0) {
      const liAgotado = crearItem(prod, docSnap.id, false);
      document.getElementById("listaAgotados").appendChild(liAgotado);
    } else if (Number(prod.stock) <= 2) {
      const liPorAgotarse = crearItem(prod, docSnap.id, false);
      document.getElementById("listaPorAgotarse").appendChild(liPorAgotarse);
    }
  });

  document.getElementById("contadorProductos").textContent = totalProductos;
}

document.addEventListener("DOMContentLoaded", async () => {
  const productosSnap = await getDocs(collection(db, "productos"));
  let totalProductos = 0; // inicializar contador

  productosSnap.forEach((docSnap) => {
    const prod = docSnap.data();
    totalProductos++; // sumar cada producto

    const liGeneral = crearItem(prod, docSnap.id, true);
    document.getElementById("listaStock").appendChild(liGeneral);

        if (Number(prod.stock) === 0) {
          const liAgotado = crearItem(prod, docSnap.id, false);
          document.getElementById("listaAgotados").appendChild(liAgotado);
        } else if (Number(prod.stock) <= 2) {
          const liPorAgotarse = crearItem(prod, docSnap.id, false);
          document.getElementById("listaPorAgotarse").appendChild(liPorAgotarse);
        }
      });
      // ‚ö° Actualizar contador
  document.getElementById("contadorProductos").textContent = totalProductos;

      // ‚ö° Cargar historial
  const historialSnap = await getDocs(collection(db, "historial"));
  historialSnap.forEach((docSnap) => {
    const h = docSnap.data();
    const li = document.createElement("li");
    li.textContent = `[${h.fechaCambio}] ${h.claveUnica} ‚Üí ${h.cambio}`;
    document.getElementById("listaHistorial").appendChild(li);

      });
      const inputCSV = document.getElementById("archivoExcel");
      inputCSV.addEventListener("change", function(e) {
        const file = e.target.files[0];
        Papa.parse(file, {
          header: true,
          complete: function(results) {
            subirProductos(results.data);
          }
        });
      });

      const inputWhatsapp = document.getElementById("archivoWhatsapp");
      inputWhatsapp.addEventListener("change", function(e) {
        const file = e.target.files[0];
        const reader = new FileReader();
        reader.onload = (ev) => {
          const lines = ev.target.result.split("\n");

          let contador = 1;
          const productos = [];
          const errores = [];

          lines.forEach(line => {
            line = line.replace(/^\d{1,2}\/\d{1,2}\/\d{4},\s*\d{1,2}:\d{2}\s*-\s*/, "");
            const idx = line.indexOf(":");
            if (idx !== -1) line = line.substring(idx + 1).trim();
            line = line.replace(/<Se edit√≥.*?>/i, "").trim();

            const parts = line.split(",");
            if (parts.length >= 6) {
              productos.push({
                orden: contador,
                nombre: parts[0].trim(),
                color: parts[1].trim(),
                precio: Number(parts[2]),
                stock: Number(parts[3]),
                fecha: parts[4].trim(),
                categoria: parts[5].trim(),
                claveUnica: `${parts[0].trim()}|${parts[1].trim()}|${parts[5].trim()}`
              });
              contador++;
            } else if (line.trim() !== "") {
              errores.push(line);
            }
          });

          subirProductos(productos);

          const listaErrores = document.getElementById("listaErrores");
          const contadorErrores = document.getElementById("contadorErrores");
          contadorErrores.textContent = errores.length;

          errores.forEach(err => {
            const li = document.createElement("li");
            li.textContent = `Error: ${err}`;
            listaErrores.appendChild(li);
          });
        };
        reader.readAsText(file);
      });
    });

async function subirProductos(productos) {
  document.getElementById("loader").style.display = "block"; // mostrar spinner
  // limpiar listas antes de volver a llenarlas
  document.getElementById("listaStock").innerHTML = "";
  document.getElementById("listaAgotados").innerHTML = "";
  document.getElementById("listaPorAgotarse").innerHTML = "";

  // üîπ ejecutar todas las operaciones en paralelo
  const operaciones = productos.map(async (prod) => {
    try {
      const q = query(collection(db, "productos"), where("claveUnica", "==", prod.claveUnica));
      const snap = await getDocs(q);

      let productoId;
      if (!snap.empty) {
        const docSnap = snap.docs[0];
        productoId = docSnap.id;

        await updateDoc(doc(db, "productos", productoId), {
          stock: increment(Number(prod.stock)),
          precio: Number(prod.precio),
          fecha: prod.fecha || new Date().toISOString(),
          categoria: prod.categoria || ""
        });

        await addDoc(collection(db, "historial"), {
          productoId,
          claveUnica: prod.claveUnica,
          cambio: `Stock +${prod.stock}, Precio: $${prod.precio}`,
          fechaCambio: new Date().toISOString()
        });

      } else {
        const nuevoOrden = await obtenerNuevoOrden(db);
        const docRef = await addDoc(collection(db, "productos"), {
          orden: nuevoOrden,
          nombre: prod.nombre,
          color: prod.color,
          precio: Number(prod.precio),
          stock: Number(prod.stock),
          fecha: prod.fecha || new Date().toISOString(),
          categoria: prod.categoria || "",
          claveUnica: prod.claveUnica
        });
        productoId = docRef.id;

        await addDoc(collection(db, "historial"), {
          productoId,
          claveUnica: prod.claveUnica,
          cambio: `Creado ‚Üí Stock: ${prod.stock}, Precio: $${prod.precio}`,
          fechaCambio: new Date().toISOString()
        });
      }

      // pintar en DOM mientras tanto
      const liGeneral = crearItem(prod, productoId, true);
      document.getElementById("listaStock").appendChild(liGeneral);

      if (Number(prod.stock) === 0) {
        const liAgotado = crearItem(prod, productoId, false);
        document.getElementById("listaAgotados").appendChild(liAgotado);
      } else if (Number(prod.stock) <= 2) {
        const liPorAgotarse = crearItem(prod, productoId, false);
        document.getElementById("listaPorAgotarse").appendChild(liPorAgotarse);
      }
    } catch (err) {
      console.error("Error al subir producto:", err);
    }
  });

  // üîπ esperar a que todas las operaciones terminen
  await Promise.all(operaciones);

  // reci√©n ahora refrescar
  await refrescarLista();
  document.getElementById("loader").style.display = "none"; // ocultar spinner
  alert("Carga de productos finalizada");
}
// üîπ Actualizar stock (suma cantidades)
async function actualizarStock(productos) {
  document.getElementById("loader").style.display = "block"; // mostrar spinner
  for (const prod of productos) {
    try {
      const q = query(collection(db, "productos"), where("claveUnica", "==", prod.claveUnica));
      const snap = await getDocs(q);

      let productoId;
      if (!snap.empty) {
        const docSnap = snap.docs[0];
        productoId = docSnap.id;

        await updateDoc(doc(db, "productos", productoId), {
          stock: increment(Number(prod.stock)),
          precio: Number(prod.precio),
          fecha: prod.fecha || new Date().toISOString(),
          categoria: prod.categoria || ""
        });

        await addDoc(collection(db, "historial"), {
          productoId,
          claveUnica: prod.claveUnica,
          cambio: `Stock +${prod.stock}, Precio: $${prod.precio}`,
          fechaCambio: new Date().toISOString()
        });

      } else {
const nuevoOrden = await obtenerNuevoOrden(db);

const docRef = await addDoc(collection(db, "productos"), {
  orden: nuevoOrden,   // üîπ ahora se asigna el orden libre
  nombre: prod.nombre,
  color: prod.color,
  precio: Number(prod.precio),
  stock: Number(prod.stock),
  fecha: prod.fecha || new Date().toISOString(),
  categoria: prod.categoria || "",
  claveUnica: prod.claveUnica
});        productoId = docRef.id;

        await addDoc(collection(db, "historial"), {
          productoId,
          claveUnica: prod.claveUnica,
          cambio: `Creado ‚Üí Stock: ${prod.stock}, Precio: $${prod.precio}`,
          fechaCambio: new Date().toISOString()
        });
      }
    } catch (err) {
      console.error("Error al actualizar producto:", err);
    }
  }
  await refrescarLista();
  document.getElementById("loader").style.display = "none"; // ocultar spinner
  alert("Stock actualizado");
  productosParseados = [];
document.getElementById("acciones").style.display = "none";
}

// üîπ Subir stock (pisar todo)
async function subirStock(productos) {
  document.getElementById("loader").style.display = "block"; // mostrar spinner
  for (const prod of productos) {
    try {
      const q = query(collection(db, "productos"), where("claveUnica", "==", prod.claveUnica));
      const snap = await getDocs(q);

      let productoId;
      if (!snap.empty) {
        const docSnap = snap.docs[0];
        productoId = docSnap.id;

        await updateDoc(doc(db, "productos", productoId), {
          orden: prod.orden,
          nombre: prod.nombre,
          color: prod.color,
          precio: Number(prod.precio),
          stock: Number(prod.stock),
          fecha: prod.fecha || new Date().toISOString(),
          categoria: prod.categoria || "",
          claveUnica: prod.claveUnica
        });

        await addDoc(collection(db, "historial"), {
          productoId,
          claveUnica: prod.claveUnica,
          cambio: `Reemplazado ‚Üí Stock: ${prod.stock}, Precio: $${prod.precio}`,
          fechaCambio: new Date().toISOString()
        });

      } else {
const nuevoOrden = await obtenerNuevoOrden(db);

const docRef = await addDoc(collection(db, "productos"), {
  orden: nuevoOrden,   // üîπ ahora se asigna el orden libre
  nombre: prod.nombre,
  color: prod.color,
  precio: Number(prod.precio),
  stock: Number(prod.stock),
  fecha: prod.fecha || new Date().toISOString(),
  categoria: prod.categoria || "",
  claveUnica: prod.claveUnica
});        productoId = docRef.id;

        await addDoc(collection(db, "historial"), {
          productoId,
          claveUnica: prod.claveUnica,
          cambio: `Creado ‚Üí Stock: ${prod.stock}, Precio: $${prod.precio}`,
          fechaCambio: new Date().toISOString()
        });
      }
    } catch (err) {
      console.error("Error al subir producto:", err);
    }
  }
  await refrescarLista();
  document.getElementById("loader").style.display = "none"; // ocultar spinner
  alert("Productos re-subidos (pisados)");
  productosParseados = [];
document.getElementById("acciones").style.display = "none";
}
document.getElementById("btnActualizar").onclick = () => actualizarStock(productosParseados);
document.getElementById("btnSubir").onclick = () => subirStock(productosParseados);
document.getElementById("buscador").addEventListener("input", async (e) => {
  const palabra = e.target.value.toLowerCase();
  const resultados = document.getElementById("resultadosBusqueda");
  resultados.innerHTML = "";

  if (palabra.length < 2) return;

  const productosSnap = await getDocs(collection(db, "productos"));
  productosSnap.forEach((docSnap) => {
    const prod = docSnap.data();
    const textoProducto = `${prod.orden} ${docSnap.id} ${prod.nombre} ${prod.color} ${prod.categoria}`.toLowerCase();

    if (textoProducto.includes(palabra)) {
      const li = document.createElement("li");
      li.textContent = `[${prod.orden}] ${prod.nombre} (${prod.color}) - Stock: ${prod.stock} - Precio: $${prod.precio} - Categor√≠a: ${prod.categoria} - ID: ${docSnap.id}`;
      resultados.appendChild(li);
    }
  });

  if (resultados.innerHTML === "") {
    resultados.innerHTML = "<li>No se encontraron coincidencias</li>";
  }
});
// üîé Buscador especializado (ID o n√∫mero de orden)
document.getElementById("buscadorEspecial").addEventListener("input", async (e) => {
  let palabra = e.target.value.trim();

  // limpiar corchetes si los hay
  const palabraSinCorchetes = palabra.replace(/\[|\]/g, "");

  const resultados = document.getElementById("resultadosBusquedaEspecial");
  resultados.innerHTML = "";

  if (palabra.length < 1) return;

  const productosSnap = await getDocs(collection(db, "productos"));
  productosSnap.forEach((docSnap) => {
    const prod = docSnap.data();

    const ordenStr = String(prod.orden);
    const idStr = docSnap.id.toLowerCase();

    // Coincidencia exacta por n√∫mero o ID
    if (ordenStr === palabraSinCorchetes || idStr === palabra.toLowerCase()) {
      const li = document.createElement("li");
      li.textContent = `[${prod.orden}] ${prod.nombre} (${prod.color}) - Stock: ${prod.stock} - Precio: $${prod.precio} - Categor√≠a: ${prod.categoria} - ID: ${docSnap.id}`;
      resultados.appendChild(li);
    }
  });

  if (resultados.innerHTML === "") {
    resultados.innerHTML = "<li>No se encontraron coincidencias</li>";
  }
});
// üîπ Funci√≥n reutilizable para calcular el pr√≥ximo orden libre
async function obtenerNuevoOrden(db) {
  const productosSnap = await getDocs(collection(db, "productos"));
  const ordenesUsados = [];

  productosSnap.forEach(docSnap => {
    const prod = docSnap.data();
    if (prod.orden) ordenesUsados.push(prod.orden);
  });

  ordenesUsados.sort((a, b) => a - b);

  let nuevoOrden = 1;
  for (let i = 0; i < ordenesUsados.length; i++) {
    if (ordenesUsados[i] !== nuevoOrden) {
      return nuevoOrden; // hueco encontrado
    }
    nuevoOrden++;
  }
  return nuevoOrden; // si no hay huecos, devuelve el siguiente consecutivo
}
</script>

<!-- Spinner de carga -->
<div id="loader" style="display:none; text-align:center; margin-top:20px;">
  <div class="spinner" style="
    border: 4px solid #ddd;
    border-top: 4px solid #007bff;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    animation: spin 1s linear infinite;
    margin: auto;">
  </div>
  <p>Cargando...</p>
</div>

<style>
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
</body>
</html>
