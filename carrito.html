<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Carrito de compras</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .item-carrito {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 8px 0;
      padding: 6px;
      border-bottom: 1px solid #ccc;
    }
    .eliminar {
      background-color: #e74c3c;
      color: white;
      border: none;
      padding: 4px 8px;
      cursor: pointer;
    }
    .eliminar:hover {
      background-color: #c0392b;
    }
  </style>
</head>
<body>
 <section class="banner-promos">
  <h1 class="titulo-glowzza">Glowzza</h1>
  <p class="subtitulo-glowzza">PREPARA TU PIEL PARA BRILLAR MÁS QUE NUNCA</p>
</section>

  <section class="carrito">
    <h1>Tu carrito</h1>
    <div id="lista-carrito"></div>
    <div class="resumen">
      <p><strong>Total:</strong> $<span id="total-carrito">0</span></p>
      <button onclick="continuarCompra()">Continuar compra</button>
    </div>
  </section>

  <div class="boton-volver">
    <a href="index.html">⬅️ Volver a la página principal</a>
  </div>

  <script>
    function mostrarCarrito() {
      const lista = document.getElementById("lista-carrito");
      const total = document.getElementById("total-carrito");
      lista.innerHTML = "";

      let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
      let suma = 0;

      carrito.forEach(producto => {
        const item = document.createElement("div");
        item.className = "item-carrito";
        item.dataset.id = producto.id; // usamos el id único

        item.innerHTML = `
          <p>${producto.nombre}</p>
          <p>$${producto.precio}</p>
          <button class="eliminar">Eliminar</button>
        `;

        lista.appendChild(item);
        suma += producto.precio;
      });

      total.textContent = suma;

      // Activar botones eliminar
      document.querySelectorAll(".eliminar").forEach(boton => {
        boton.addEventListener("click", function() {
          const id = this.parentElement.dataset.id;
          let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
          carrito = carrito.filter(prod => prod.id !== id);
          localStorage.setItem("carrito", JSON.stringify(carrito));
          mostrarCarrito(); // refrescar vista
        });
      });
    }

    function continuarCompra() {
      alert("Gracias por tu compra. Pronto te contactaremos por WhatsApp.");
      // Si querés redirigir directamente a WhatsApp:
      // window.open("https://wa.me/541171019084?text=Quiero%20finalizar%20mi%20compra", "_blank");
    }

    window.onload = mostrarCarrito;
  </script>
</body>
</html>